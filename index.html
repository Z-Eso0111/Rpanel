<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webhook Test</title>
</head>
<body>

<div id="login-container">
    <label for="password">Şifre:</label>
    <input type="password" id="password">
    <button onclick="checkPassword()">OK</button>
</div>

<div id="webhook-container" style="display: none;">
    <h2>Webhook Mesajları</h2>
    <ul id="webhook-messages"></ul>
</div>

<script>
    const webhookUrl = "BURAYA_WEBHOOK_URLNIZI_YAZIN"; // Webhook URL'sini buraya ekleyin
    const passwordInput = document.getElementById("password");
    const webhookMessagesContainer = document.getElementById("webhook-messages");

    function checkPassword() {
        const enteredPassword = passwordInput.value.trim();

        if (enteredPassword === "123456789Panel") {
            showWebhook();
        } else {
            alert("Yanlış şifre. Tekrar deneyin.");
        }
    }

    function showWebhook() {
        const webhookContainer = document.getElementById("webhook-container");
        webhookContainer.style.display = "block"; // Webhook konteynırını görünür yap

        // Sabit webhook URL'sine giden bir istek gönderme (örnek)
        // Bu noktada gerçek bir istek gönderme kütüphanesi kullanmanız gerekebilir
        // Örneğin, fetch() kullanabilirsiniz.
        // Ancak bu örnekte sadece bir simülasyon yapıyorum.
        simulateWebhook();
        
        // Şifre giriş ekranını gizle
        document.getElementById("login-container").style.display = "none";

        // Mesajları her saniye bir güncelleyen bir işlem başlat
        setInterval(updateWebhookMessages, 1000);
    }

    function simulateWebhook() {
        const message = "Webhook'a gelen mesaj: Merhaba dünya!";
        appendWebhookMessage(message);

        // Mesajı bir dosyaya yazma simülasyonu (tarayıcıda çalışmayacaktır, sadece örnek)
        saveMessageToFile(message);
    }

    function saveMessageToFile(message) {
        // Burada tarayıcıda dosyaya yazma işlemi yapmak mümkün değildir.
        // Gerçek bir sunucu tarafı uygulaması kullanmanız gerekebilir.
    }

    function updateWebhookMessages() {
        // Burada dosyadan mesajları okuma işlemi yapmak mümkün değildir.
        // Gerçek bir sunucu tarafı uygulaması kullanmanız gerekebilir.

        // Ancak, simulateWebhook içindeki mesajları kullanarak simülasyon yapabiliriz.
        simulateWebhook();
    }

    function appendWebhookMessage(message) {
        const li = document.createElement("li");
        li.textContent = message;
        webhookMessagesContainer.appendChild(li);
    }
</script>

</body>
</html>
